:rootDir: ../
:partialsDir: {rootDir}partials/
include::{rootDir}_attributes.adoc[]
= Cloud deployment of editor & plugins
:description: Learn how to set up the TinyMCE editor via the Cloud or migrate from a self-hosted environment.
:description_short: Learn how to set up the TinyMCE editor via the Cloud or migrate from a self-hosted environment.
:keywords: tinymce cloud script textarea apiKey

{cloudname} is the easiest way to integrate {productname} and upgrade to premium plugins.

{cloudname} can be used without an API key. Refer to the link:{rootDir}general-configuration-guide[Introduction & getting started] guide for more information. Sign up for an API key and update the script tag to use premium plugins or avoid the in-editor developer warning.

All {cloudname} accounts include a free, pre-configured {cloudname} image proxy service. This setup uses the link:{rootDir}plugins/imagetools.html[Image tools] plugin.

[[integrating-tinymce-for-the-first-time]]
== Integrating TinyMCE for the first time

[[step-1-insert-the-tiny-cloud-script-tag-into-the-webpage]]
=== Step 1: Insert the Tiny Cloud script tag into the webpage

Insert the {productname} editor code into the application to load {productname} for the first time. The code inserting is done by adding the following script tag into your app, or in the case of a web page the `<head>` of the page:

The following example adds a script tag into the application that inserts the code. Use the `<head>` of the page on a web page. Be sure to substitute 'no-api-key' with your api key.

[source,html,subs="+attributes"]
----
<script src="{cdnurl}" referrerpolicy="origin"></script>
----

|===
|  | Value | Description

| 1
| no-api-key
| Replace with your api key

| 2
| origin=
| A `referrerpolicy` specifies how much of the current page's URL is sent in the `Referer` header when the browser fetches page resources (for example, the {productname} editor). The use of the `Referer` header ensures API keys are only used on domains registered to their owners. We only care about the domain portion however (similar to the operation of `Origin` header), so for improved performance and privacy always set the `referrerpolicy` to `origin` when requesting {cloudname} resources.
|===

image::scripttag.png[Script Tag Description]

[[step-2-load-customize-and-interact-with-tinymce]]
=== Step 2: Load, customize and interact with TinyMCE

There are more than 40 open source plugins that enhance the editing experience in addition to the advanced content create solutions on {cloudname}. A range of link:{rootDir}demo/basic-example.html[simple examples] are available. Refer to the link:{rootDir}quick-start[Quick start] section for more information.

[[step-3-specifying-purchased-tinymce-plugins-and-toolbarmenu-items]]
=== Step 3: Specifying purchased TinyMCE plugins and toolbar/menu items

Extend the link:{rootDir}configure.html[{productname} configuration] to include any additional purchased plugins and associated toolbar and menu items. Refer to the following enablement guides for more information:

* link:{rootDir}plugins/mentions.html[Mentions]
* link:{rootDir}plugins/drive.html[{cloudfilemanager}]
* link:{rootDir}plugins/comments.html[Comments 2.0]
* link:{rootDir}plugins/pageembed.html[Page Embed]
* link:{rootDir}plugins/permanentpen.html[Permanent Pen]
* link:{rootDir}plugins/formatpainter.html[Format Painter]
* link:{rootDir}plugins/powerpaste.html[PowerPaste]
* link:{rootDir}plugins/tinymcespellchecker.html[Spell Checker Pro]
+
NOTE: `spellchecker_rpc_url` is *not* required when enabling this plugin via link:{rootDir}cloud-deployment-guide.html[{cloudname}].

* link:{rootDir}plugins/imagetools.html[Image Tools (with configured image proxy)]
+
NOTE: Configuration of the `imagetools_cors_hosts` and `imagetools_proxy` properties occurs automatically.

* link:{rootDir}plugins/moxiemanager.html[Moxie Manager]
* link:{rootDir}plugins/a11ychecker.html[Accessibility Checker]
* link:{rootDir}plugins/advcode.html[Advanced Code Editor]
* link:{rootDir}plugins/mediaembed.html[Enhanced Media Embed]
* link:{rootDir}plugins/linkchecker.html[Link Checker]

NOTE: It may take up to 30 minutes for the purchased plugin to be available to {productname}. Clear the browser's cache.

[[step-4-forward-proxy-configuration]]
=== Step 4: Forward proxy configuration

Ensure that the following URLs are accessible via this proxy if the network has a forward proxy that controls access to the internet.

* All URLs where the editor is deployed.
* All URLs where the plugins are deployed.
* \https://imageproxy.tiny.cloud
* \https://hyperlinking.tiny.cloud
* \https://spelling.tiny.cloud

Ensure the `tiny-api-key` and `tinymce-api-key` headers are retained while requesting the list of above URLs.

[[step-5-specifying-a-translation]]
=== Step 5: Specifying a translation

To change the user interface language with a language pack, use the link:{rootDir}configure/localization.html#language[language configuration option].

Alternatively, link:{gettiny}/language-packages/[download a language pack] to enable a language other than English (US). link:{rootDir}configure/localization.html#language_url[Specify its location] with the `language_url` configuration option.

[[migrating-from-a-self-hosted-environment-to-tiny-cloud]]
== Migrating from a self-hosted environment to Tiny Cloud

[[step-1-replace-existing-reference-to-tinymce-min-js]]
=== Step 1: Replace existing reference to tinymce.min.js

Migrating from a self-hosted environment to {cloudname} is easy. Remove the existing script tag that loads {productname}`'s JavaScript.

NOTE: The script tag typically references `tinymce.min.js` hosted within the application or available at a legacy CDN.

Replace the script tag with the following:

[source,html,subs="+attributes"]
----
<script src="{cdnurl}" referrerpolicy="origin"></script>
----

[[step-2-update-custom-plugin-paths]]
=== Step 2: Update custom plugin paths

Reference link:{rootDir}configure/integration-and-setup.html#external_plugins[external_plugins] to ensure custom plugins or modified plugins continue to function in the {cloudname} deployment.

[WARNING]
====
Warning! Do not use the regular link:{rootDir}general-configuration-guide/work-with-plugins.html[plugins] configuration element.
====

[[step-3-specify-purchased-tinymce-plugins-and-toolbar-buttons]]
=== Step 3: Specify purchased TinyMCE plugins and toolbar buttons

Extend the link:{rootDir}configure.html[{productname} configuration] to include any additional purchased plugins and associated toolbar and menu items. Refer to the following enablement guides for more information:

* link:{rootDir}plugins/mentions.html[Mentions]
* link:{rootDir}plugins/drive.html[{cloudfilemanager}]
* link:{rootDir}plugins/comments.html[Comments 2.0]
* link:{rootDir}plugins/pageembed.html[Page Embed]
* link:{rootDir}plugins/permanentpen.html[Permanent Pen]
* link:{rootDir}plugins/formatpainter.html[Format Painter]
* link:{rootDir}plugins/powerpaste.html[Powerpaste]
* link:{rootDir}plugins/tinymcespellchecker.html[Spell Checker Pro]
+
NOTE: `spellchecker_rpc_url` is *not* required when enabling this plugin via link:{rootDir}cloud-deployment-guide.html[{cloudname}].

* link:{rootDir}plugins/imagetools.html[Image tools (with configured image proxy)]
+
NOTE: Configuration of the `imagetools_cors_hosts` and `imagetools_proxy` properties occurs automatically.

* link:{rootDir}plugins/moxiemanager.html[Moxie Manager]
* link:{rootDir}plugins/a11ychecker.html[Accessibility Checker]
* link:{rootDir}plugins/advcode.html[Advanced Code Editor]
* link:{rootDir}plugins/mediaembed.html[Enhanced Media Embed]
* link:{rootDir}plugins/linkchecker.html[Link Checker]

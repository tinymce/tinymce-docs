:rootDir: ../
:partialsDir: {rootDir}partials/
include::{rootDir}_attributes.adoc[]
= Table of Contents plugin
:controls: toolbar button, menu item
:description: Insert a simple Table of Contents into TinyMCE editor
:keywords: toc toc_depth toc_class toc_header
:title_nav: Table of Contents

`toc` plugin will generate basic _Table of Contents_ and insert it into the editor at the current cursor position. Items for the table will be taken from the headers found in the content.

*Type:* `String`

[[example]]
===== Example

[source,js]
----
tinymce.init({
  selector: "textarea",  // change this value according to your HTML
  plugins: "toc",
  toolbar: "toc",
  menubar: "insert"
});
----

_Table of Contents_ will have a simple HTML structure - a wrapper `div` element, a header with _editable_ title and unordered nested list with navigation links. Nesting depth is customisable.

Internally plugin doesn't apply any inline styles. Basic formatting can be added via link:{rootDir}advanced/boilerplate-content-css.html[Boilerplate Content CSS], that can be customised to your needs.

[source,css]
----
/* Basic styles for Table of Contents plugin (toc) */
.mce-toc {
	border: 1px solid gray;
}

.mce-toc h2 {
	margin: 4px;
}

.mce-toc li {
	list-style-type: none;
}
----

[[options]]
== Options

[[toc_depth]]
=== `toc_depth`

By default headers in the content will be inspected only three levels deep, so - `H1` through `H3`. But it is possible to change this behaviour by setting `toc_depth` to any number in 1-9 range, therefore matching all the headers beginning with `H1` and all the way down to `H9`.

*Type:* `Number`

*Default Value:* `3`

[discrete#example-2]
===== Example

[source,js]
----
tinymce.init({
  selector: "textarea",
  plugins: "toc",
  toolbar: "toc",
  toc_depth: 3
});
----

[[toc_header]]
=== `toc_header`

Table of contents has a header and by default it will be marked up with `H2` tag. With `toc_header` option you can change it to some other tag.

*Type:* `String`

*Default Value:* `H2`

[discrete#example-2]
===== Example

[source,js]
----
tinymce.init({
  selector: "textarea",
  plugins: "toc",
  toolbar: "toc",
  toc_header: "div" // case doesn't matter
});
----

[[toc_class]]
=== `toc_class`

With `toc_class` you can change the class name that gets assigned to the wrapper `div`. Please note that you will have to alter link:{rootDir}advanced/boilerplate-content-css.html[Boilerplate Content CSS]) accordingly.

*Type:* `String`

*Default Value:* `mce-toc`

[discrete#example-2]
===== Example

[source,js]
----
tinymce.init({
  selector: "textarea",
  plugins: "toc",
  toolbar: "toc",
  toc_class: "our-toc"
});
----

[[commands]]
== Commands

The Table of Contents plugin provides the following JavaScript commands.

include::{partialsDir}commands/toc-cmds.adoc[]

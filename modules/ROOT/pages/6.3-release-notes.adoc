= TinyMCE 6.3
:navtitle: TinyMCE 6.3
:description: Release notes for TinyMCE 6.3
:keywords: releasenotes, new, changes, bugfixes
:page-toclevels: 1

include::partial$misc/admon-releasenotes-for-stable.adoc[]

[[overview]]
== Overview

{productname} 6.3 was released for {enterpriseversion} and {cloudname} on Wednesday, December 7^th^, 2022. It includes {productname} 6.3, additional changes to Premium plugins, and several new Premium plugins. These release notes provide an overview of the changes for {productname} 6.3:

* xref:new-premium-plugins[New Premium plugins]
* xref:accompanying-premium-plugin-changes[Accompanying Premium Plugin changes]
* xref:accompanying-premium-skins-and-icon-packs-changes[Accompanying Premium Skins and Icon Packs changes]
* xref:accompanying-premium-self-hosted-server-side-component-changes[Accompanying Premium self-hosted server-side component changes]
* xref:improvements[Improvements]
* xref:additions[Additions]
* xref:changes[Changes]
* xref:bug-fixes[Bug fixes]
* xref:security-fixes[Security fixes]
* xref:deprecated[Deprecated]
* xref:known-issues[Known issues]

[[new-premium-plugins]]
== New Premium plugins

=== Inline CSS 1.0.0

The {productname} 6.3 release includes the new **Inline CSS** premium plugin.

The Inline CSS plugin allows the user to <notes here>.

For information on the **Inline CSS** plugin, see: xref:inline-css.adoc[Inline CSS].

=== Smart typography 1.0.0

The {productname} 6.3 release includes the new **Smart typography** premium plugin.

The Smart typography plugin allows the user to <notes here>.

For information on the **Smart typography** plugin, see: xref:smart-typography.adoc[Smart typography].

[[accompanying-premium-plugin-changes]]
== Accompanying Premium Plugin changes

The following premium plugin updates were released alongside {productname} 6.3.

=== Accessibility Checker 3.1.0

The {productname} 6.3 release includes an accompanying release of the **Accessibility Checker** premium plugin.

**Accessibility Checker** 3.1.0 includes the following fixes, additions, and improvements.

==== Merge tags prefix and suffix elements were not ignored

Previously, **Accessibility Checker** incorrectly flagged xref:mergetags.adoc[Merge Tags] prefixes and suffixes as presenting a contrast issue.

With this update, the **Accessibility Checker** plugin ignores Merge Tag prefixes and suffixes, as expected.

==== Added a new rule to show a warning when the alternative text of an image exceeds 100 characters

**Accessibility Checker** 3.1.0 now includes a rule that, when applied, shows a warning dialog when an image’s alternative (`+alt+`) text attribute exceeds 100 characters. This dialog also presents the alternative text in an editable field, for immediate repair.

==== Replaces the single warning icon presented in dialogs with icons specific to each alert level;

Previously, all **Accessibility Checker** warning dialogs presented with a triangle warning icon, regardless of whether the alert was informational, a warning, or an error.

With this update, **Accessibility Checker** shows a level-specific icon with each alert.

==== improves the discoverability of the question mark button in warning dialogs

Many **Accessibility Checker** dialogs include a question mark icon. This icon is also a link to further information about the discovered issue.

This update includes changes to the presentation of this icon to make its being a clickable button more immediately apparent.

==== improves the legibility of warning dialogs

In concert with the changes noted above to the question mark icon in **Accessibility Checker** dialogs, legibility improvements were made to the presentation and typography of these dialogs.

For information on the **Accessibility Checker** plugin, see: xref:a11ychecker.adoc[Accessibility Checker].

=== Merge tags <merge tags version number>

The {productname} 6.3 release includes an accompanying release of the **Merge tags** premium plugin.

// merge tags change documentation here.

For information on the **Merge tags** plugin, see: xref:mergetags.adoc[Merge Tags].


=== Spellchecker Pro <spellchecker pro version number>

The {productname} 6.3 release includes an accompanying release of the **Spellchecker Pro** premium plugin.

==== Spellchecking could search outside of editor for language match. // REVIEW TITLE

// https://ephocks.atlassian.net/browse/TINY-8989
For spelling, a word’s language was identified by finding the nearest `lang` attribute anywhere in the word’s ancestors (ie, elements that [surround | contain]^1 the word). For inline mode, that included ancestors that were outside the editor element.

If a `lang` attribute existed anywhere in the ancestry of a word for a {productname} instance running in inline mode, that `lang` attribute value overrode all attempts by the user to set the spell checking `lang` for the document.

As of {productname} 6.3, the `lang` attribute inherits the default settings for the {productname} editor body. As a consequence, the editor no longer searches elements external to the editor body when searching for `lang` attributes.

For information on the **Spellchecker Pro** plugin, see: xref:introduction-to-tiny-spellchecker.adoc[Spellchecker Pro].



[[accompanying-premium-skins-and-icon-packs-changes]]
== Accompanying Premium Skins and Icon Packs changes

The {productname} 6.3 release includes an accompanying release of the **Premium Skins and Icon Packs**.

=== Premium Skins and Icon Packs

The **Premium Skins and Icon Packs** release includes the following updates:

// premium skins and icon packs change documentation here.

The **Premium Skins and Icon Packs** were rebuilt to pull in the changes also incorporated into the default {productname} 6.3 skin, Oxide.

For information on using premium skins and icon packs, see: xref:premium-skins-and-icons.adoc[Premium Skins and Icon Packs].

[[accompanying-premium-self-hosted-server-side-component-changes]]
== Accompanying Premium self-hosted server-side component changes

The {productname} 6.3 release includes accompanying changes affecting the {productname} **self-hosted** services for the following plugins:

* <plugin name 1> plugin (`plugin-name-1`)
* <plugin name 2> plugin (`plugin-name-2`)
* <plugin name 3> plugin (`plugin-name-3`)

The Java server-side components have been updated to the following versions:

* `component-1.war`: <component-1 version number>
* `component-2.war`: <component-2 version number>
* `component-3.war`: <component-3 version number>

For information on:

* The <plugin name 1> plugin, see: xref:plugin-1-filename.adoc[<plugin name 1> plugin].
* The <plugin name 2> plugin, see: xref:plugin-2-filename.adoc[<plugin name 2> plugin].
* The <plugin name 2> plugin, see: xref:plugin-3-filename.adoc[<plugin name 3> plugin].
* Deploying the server-side components, see: xref:introduction-to-premium-selfhosted-services.adoc[Server-side component installation].

=== Updating the self-hosted server-side components

The new versions of the server-side services provide updates for the Java-based server-side components. To deploy the updated version of the server-side components:

. Update your Java Application Server to the minimum required version:

include::partial$misc/supported-application-servers.adoc[]

. Replace the existing server-side `.war` files with the `.war` files bundled with {productname} vnumtxt or later.

For information on:

* Deploying the server-side components, see: xref:introduction-to-premium-selfhosted-services.adoc[Server-side component installation].
* Deploying the server-side components using Docker, see: xref:bundle-intro-setup.adoc[Containerized service deployments].


[[improvements]]
== Improvements

{productname} 6.3 also includes the following improvements

=== Transparent elements, like anchors, can now contain block elements.

// https://ephocks.atlassian.net/browse/TINY-9172
// cause
// consequence
// fix
// result
// https://www.notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== Colorswatch now displays a checkmark for selected color.

// https://ephocks.atlassian.net/browse/TINY-9283
// cause
// consequence
// fix
// result
// https://www.notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== Color picker dialog now starts on the appropriate color for the cursor position.

// https://ephocks.atlassian.net/browse/TINY-9213
// cause
// consequence
// fix
// result
// https://www.notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


[[additions]]
== Additions

{productname} 6.3 also includes the following additions:

=== New expand function added to tinymce.selection which expands the selection around the nearest word.

// https://ephocks.atlassian.net/browse/TINY-9001
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== New expand function added to tinymce.dom.RangeUtils to return a new range expanded around the nearest word.

// https://ephocks.atlassian.net/browse/TINY-9001
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== New color_map_background and color_map_foreground option which sets the base colors used in the backcolor and forecolor toolbar buttons and menu items.

// https://ephocks.atlassian.net/browse/TINY-9184
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== Added optional storageKey property to colorinput component and colorswatch fancy menu item.

// https://ephocks.atlassian.net/browse/TINY-9184
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== New addView function added to editor.ui.registry which makes it possible to register custom editor views.

// https://ephocks.atlassian.net/browse/TINY-9210
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== New ToggleView command which makes it possible to hide or show registered custom views.

// https://ephocks.atlassian.net/browse/TINY-9210
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== New color_default_foreground and color_default_background options to set the initial default color for the forecolor and backcolor toolbar buttons and menu items.

// https://ephocks.atlassian.net/browse/TINY-9183
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== New getTransparentElements function added to tinymce.html.Schema to return a map object of transparent HTML elements.

// https://ephocks.atlassian.net/browse/TINY-9172
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480

=== Added `ToggleToolbarDrawer` event to subscribe to toolbar’s opening and closing. 

// https://ephocks.atlassian.net/browse/TINY-9271
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480



[[changes]]
== Changes

{productname} 6.3 also incorporates the following changes:

=== Transparent elements, like anchors, are now allowed in the root of the editor body if they contain blocks.

// https://ephocks.atlassian.net/browse/TINY-9172
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== Colorswatch keyboard navigation now starts on currently selected color if present in the colorswatch.

// https://ephocks.atlassian.net/browse/TINY-9283
// cause
// consequence
// fix
// result
// https://www.notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== `setContent` is now allowed to accept any custom keys and values as a second options argument.

// https://ephocks.atlassian.net/browse/TINY-9143
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


[[bug-fixes]]
== Bug fixes

{productname} 6.3 also includes the following bug fixes:

=== Parsing media content would cause a memory leak, which for example occurred when using the getContent API.

// https://ephocks.atlassian.net/browse/TINY-9186
A memory leak occurred in Chrome, Edge and Firefox browsers when media content was parsed into the editor using the `tinymce.activeEditor.getContent()` method API.

The memory leak caused an abnormal behavior that increased the memory requirements of the editor until the active tab in the browser crashed.

// Edit the notes below into a useful sentence.
////
Fixed in v6.3 update. (Reported issues with Chromium) https://bugs.chromium.org/p/chromium/issues/detail?id=1374180[Memory leak with DOMParser parseFromString method]
////

=== Dragging a noneditable element toward the bottom edge would cause the page to scroll up.

// https://ephocks.atlassian.net/browse/TINY-9025
A regression was found in {productname} 6.2 where dragging an element containing a `contentEditable=false` attribute towards a document’s edge did not cause scrolling.

It was also found that dragging elements containing a `contentEditable=false` attribute toward the bottom edge cause similar behaviour. In this instance, however, when the elements containing a `contentEditable=false` attribute was dragged to the bottom of the page the editor would sometimes scroll up.

This regression has been addressed in {productname} 6.3. Dragging elements containing a `contentEditable=false` attribute towards a document’s causes the viewport to scroll as expected. And dragging elements containing a `contentEditable=false` attribute toward the bottom edge of the editor no longer causes the page to scroll up.


=== Range expanding capabilities would behave inconsistently depending on where the cursor was placed.

// https://ephocks.atlassian.net/browse/TINY-9029
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== Compilation errors were thrown when using TypeScript 4.8.

// https://ephocks.atlassian.net/browse/TINY-9161
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== Line separator scrolling in floating toolbars.

// https://ephocks.atlassian.net/browse/TINY-8948
In {productname} 6.0.3 the background images in the floating toolbar followed the scroll position of any nested scrolling containers when the editor width was reduced by the browser. By default, however, the background images should scroll with the main scrollable element, `+<body>+`.

As a consequence the divider lines that act as background image to improve the UI would not follow the scroll position of any nested containers inside the floating toolbar.

In {productname} 6.3 background images now scroll with the toolbar’s content as expected.


// Should the following be: here; in xref:known-issues[Known issues] below; nowhere at all?
////
KNOWN ISSUES: `Safari 14 not properly supporting local value for background attachment property`

We explicitly support the current version of

Google Chrome;
Mozilla Firefox;
Microsoft Edge; and
Apple Safari

We also provide

_support for the prior major version for 60 days after the release has been superseded by a new major version_
////

=== A double bottom border appeared on inline mode editor for the tinymce-5 skin.

// https://ephocks.atlassian.net/browse/TINY-9108
The `inline-mode` toolbar showed an additional border line with {productname} 6.x premium skins that used {productname} 5.x skin packages.

With {productname} 6.3, all {productname} premium skins were updated.


=== The editor header showed up even with no menubar and toolbar configured.

// https://ephocks.atlassian.net/browse/TINY-8819
In classic mode, when both the {productname} toolbar and menubar were disabled, a header was still visible at the top of the editor. 

In {productname} 6.3 this header no longer presents when the {productname} toolbar and menubar are disable, giving the editor a cleaner appearance with only the content editor visible.


=== Inline text pattern no longer triggers if it matches only the end but not the start.

// https://ephocks.atlassian.net/browse/TINY-8947
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== Matches of inline text patterns that are similar are now managed correctly.

// https://ephocks.atlassian.net/browse/TINY-8949
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== The context toolbar prevented the user from placing the cursor at the edges of the editor.

// https://ephocks.atlassian.net/browse/TINY-8890
When scrolled past the top row of a table, the table _context toolbar_ overlapped any rows at the top of the editor to display below the toolbar.

In {productname} 5.x, the _context toolbar_ switched from being at the top of the editor, to the bottom of the table or editor when a user attempted to select cells close to the top row of the table. And vice versa when the _context toolbar_ was docked to the bottom of the editor.

In {productname} 6.x, the height of the _context toolbar_ was increased, while the distance from which it needed to be selected in order to switch locations was not.

With {productname} 6.3 this distance has been increased. This allows the _context toolbar_ to correctly switch locations when a user selects cells close to the toolbar, allowing the top or bottom visible rows of a table to be selected without issue when the _context toolbar_ is visible.


=== The Quick Insert context toolbar provided by the quickbars plugin showed when the cursor was in a fake block caret.

// https://ephocks.atlassian.net/browse/TINY-9190
The Quick Insert context toolbar, provided by the xref:quickbars.adoc[Quick Toolbars] plugin, was displayed when the cursor was moved to the left of an element with a `contenteditable="false"` attribute.

This behavior was unexpected because the Quick Insert context toolbar should not present when the insertion point is placed on a line with content.

The root cause was the insertion point being placed into a fake block caret, which was not considered by the logic for toggling the Quick Insert context toolbar.

A fix was applied to the logic to ensure it could handle such cases, and prevent it from showing in this circumstance.


=== The editor.selection.getRng() API was not returning a proper range on hidden editors in Firefox.

// https://ephocks.atlassian.net/browse/TINY-9259
In contrast to other supported browsers, Firefox did not return the selected object or the selection range from iframes that are hidden by the `display: none` attribute.

As a consequence, when a {productname} instance was running on Firefox, the `window.getSelection()` API for an iframe returned `null` if the iframe was hidden. This, further, resulted in the `editor.selection.getRng()` and `editor.selection.getBookmark()` APIs returning incorrect data from hidden editors when Firefox was the host browser.

This has been fixed in {productname} 6.3. All browsers, including Firefox, now return the correct values even when the iframe is hidden.


=== The editor.selection.getBookmark() API was not returning a proper bookmark on hidden editors in Firefox.

// https://ephocks.atlassian.net/browse/TINY-9259
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== Dragging a noneditable element before or after another noneditable element now works correctly.

// https://ephocks.atlassian.net/browse/TINY-9253
Elements that had the `contenteditable="false"` attribute set could not be dragged to the left of an ancestor element.

For example in the following

[source,html]
----
<p>Text in a paragraph tag with a span of <span contenteditable="false">non-editable text</span> inside.</p>
----

the string _non-editable text_ could not be dragged to before the opening `+<p>+` tag.

{productname} 6.3 can place a fake insertion point next to elements with a `contenteditable="false"` attribute when another element with a `contenteditable="false"` attribute is dragged, allowing the object to be moved before and after other such elements.


=== The restored selection after a redo or undo action was not scrolled into view.

// https://ephocks.atlassian.net/browse/TINY-9222
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== A newline could not be inserted when the selection was restored from a bookmark after an inline contenteditable="false" element.

// https://ephocks.atlassian.net/browse/TINY-9194
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


=== Inline mode did not respect `content_css_cors` option.

// https://ephocks.atlassian.net/browse/TINY-6037
In previous versions of {productname}, the `tinymce.styleSheetLoader` global was not configured by the `content_css_cors` option, when specified.

Consequently, stylesheets loaded by `tinymce` onto the outer document page did not have the `crossOrigin="anonymous"` attribute. This particularly effected {productname} instances running in inline mode, because the `tinymce.styleSheetLoader` global is used to load stylesheets used by inline editors. (Stylesheets for {productname} editors running in iframe mode are specific to the editor.)

Without the `crossOrigins="anonymous"` attribute being set, no external stylesheets were loaded. And inline editors with the `pageembed` plugin loaded and the `tiny_pageembed_inline_styles` option set to `true` would, as a result, return an error when attempting to insert any iframse through the dialog.

As of {productname} 6.3, the `content_css_cors` option now configures the `tinymce.dom.styleSheetLoader` global when specified. This allows the `crossOrigin="anonymous"` attribute to be added to all stylesheets loaded by the editor — including editors running in inline mode — when the attribute is set to true.


=== The caret was moved to the previous line when a text pattern executed a `mceInsertContent` command on Enter key when running on Firefox.

// https://ephocks.atlassian.net/browse/TINY-9193
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


[[security-fixes]]
== Security fixes

{productname} 6.3 includes fixes for the following security issues:

=== are there any security fixes in this release?

// https://ephocks.atlassian.net/browse/[ticket-number-for-any-security-fixes]
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480


[[deprecated]]
== Deprecated

=== are there any deprecations in this release?

// https://ephocks.atlassian.net/browse/[ticket-number-for-any-deprecations]
// cause
// consequence
// fix
// result
// https://notion.so/tinycloud/Four-words-to-live-by-96e307110aaa4137b94f9ba12874d480



[[known-issues]]
== Known issues

This section describes issues that users of {productname} 6.3 may encounter and possible workarounds for these issues.

There is a known issue in {productname} 6.3 when the new xref:advanced-typography.adoc[Advanced Typography] Premium plugin is used.

=== After switching the Advanced Typography language to en-GB, switching to any other language is not possible 

// https://ephocks.atlassian.net/browse/TINY-9332
// cause
// consequence
// workaround (if any)



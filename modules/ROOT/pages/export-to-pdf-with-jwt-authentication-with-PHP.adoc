= Export to PDF with JWT authentication (PHP) Guide
:navtitle: JWT Authentication setup for Export to PDF
:description: Guide on how to setup JWT Authentication for exporting PDF files with {productname}
:keywords: jwt, authentication, exportpdf, pdf, php
:pluginname: Export to PDF
:plugincode: exportpdf

include::partial$auth/document-converters/php/intro-and-prerequisites.adoc[]

include::partial$auth/document-converters/php/initial-project-setup.adoc[]

. Inside the `public` folder where you created the `index.html` file add the HTML setup code (refer to the *Setting up {productname} HTML* section).

==== Web Page Setup (index.html)

[source,html]
----
<!DOCTYPE html>
<html>
<head>
  <title>TinyMCE with PDF Export</title>
  <script 
    src="https://cdn.tiny.cloud/1/YOUR-API-KEY/tinymce/7/tinymce.min.js"
    referrerpolicy="origin">
  </script>
  <script>
    tinymce.init({
      selector: 'textarea',
      plugins: 'exportpdf',
      toolbar: 'exportpdf',
      exportpdf_converter_options: {
        'format': 'Letter',
        'margin_top': '1in',
        'margin_right': '1in',
        'margin_bottom': '1in',
        'margin_left': '1in'
      },
      // export_token_provider fetches a token from the `/jwt.php` endpoint.
      exportpdf_token_provider: () => {
        return fetch('http://localhost:3000/jwt.php', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
        }).then(response => response.json());
      },
    });
  </script>
</head>
<body>
  <h1>TinyMCE Export to PDF Demo</h1>
  <textarea>
    Welcome to TinyMCE! Try the Export to PDF feature.
  </textarea>
</body>
</html>
----

. In the root directory, copy and paste the server setup code into the `jwt.php` file.

include::partial$auth/document-converters/php/server-setup-php.adoc[]

include::partial$auth/document-converters/jwt-setup-document-converters.adoc[leveloffset=+1]

include::partial$auth/document-converters/php/configuration-steps.adoc[]

= {pluginname} with JWT authentication (Node.js) Guide
:navtitle: JWT Authentication setup for Import from Word
:description: Guide on how to setup JWT Authentication for importing docx (MS Word) files with Import from Word
:keywords: jwt, authentication, importword, node.js
:pluginname: Import from Word
:plugincode: importword


include::partial$auth/document-converters/intro-and-prerequisites.adoc[]

include::partial$auth/document-converters/initial-project-setup.adoc[]

== Setup

=== Web Page (public/index.html)

[source,html]
----
<!DOCTYPE html>
<html>
<head>
  <title>TinyMCE with Import from Word</title>
  <script 
    src="https://cdn.tiny.cloud/1/YOUR-API-KEY/tinymce/7/tinymce.min.js"
    referrerpolicy="origin">
  </script>
  <script>
    tinymce.init({
      selector: 'textarea',
      plugins: 'importword',
      toolbar: 'importword',
      importword_converter_options: {
        'formatting': {
          'styles': 'inline',
          'resets': 'inline',
          'defaults': 'inline',
        }
      },
      importword_service_url: "<serviceURL>",

      // importword_token_provider fetches a token from the `/jwt` endpoint.
      importword_token_provider: () => {
        return fetch('http://localhost:3000/jwt', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
        }).then(response => response.json());
      },
    });
  </script>
</head>
<body>
  <h1>TinyMCE Import from Word Demo</h1>
  <textarea>
    Welcome to TinyMCE! Try the Import from Word feature.
  </textarea>
</body>
</html>
----

. In the root directory, copy and paste the server setup code into the `jwt.js` file (refer to the *Configuring the Node.js Server for JWT Token Generation* section).

include::partial$auth/document-converters/server-setup-jwt.adoc[]

include::partial$auth/document-converters/configuration-steps.adoc[]
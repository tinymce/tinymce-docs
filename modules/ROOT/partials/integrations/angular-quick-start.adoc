:packageName: tinymce-angular

The https://github.com/tinymce/tinymce-angular[Official {productname} Angular component] integrates {productname} into Angular projects. This procedure creates a https://angular.dev/tools/cli/setup-local[basic Angular application] containing a {productname} editor.

This procedure uses standalone components. If using Angular Modules, see xref:angular-modules[Angular Modules].

For examples of the {productname} Angular integration, visit https://tinymce.github.io/tinymce-angular/[the tinymce-angular storybook].

== Prerequisites

This procedure requires https://nodejs.org/[Node.js (and npm)].

== Procedure

. On a command line or command prompt, install the https://angular.io/cli[Angular CLI Tool] package.
+
[source,sh]
----
npm install -g @angular/cli
----
. Create a new Angular project named `+tinymce-angular-demo+`.
+
[source,sh]
----
ng new --defaults --skip-git tinymce-angular-demo
----
. Change into the newly created directory.
+
[source,sh]
----
cd tinymce-angular-demo
----
ifeval::["{productSource}" == "package-manager"]
. Install the `+tinymce+` and `+tinymce-angular+` packages and save them to your `+package.json+` with `+--save+`.
+
[source,sh]
----
npm install --save tinymce @tinymce/tinymce-angular
----

endif::[]
ifeval::["{productSource}" != "package-manager"]
. Install the `+tinymce-angular+` package and save it to your `+package.json+` with `+--save+`.
+
[source,sh]
----
npm install --save @tinymce/tinymce-angular
----
endif::[]
. Using a text editor, open `+/path/to/tinymce-angular-demo/src/app/app.component.ts+` and replace the contents with:
+
[source,ts,subs="attributes+"]
----
import { Component } from '@angular/core';
import { EditorComponent } from '@tinymce/tinymce-angular';

@Component({
  selector: 'app-root',
  standalone: true,
  imports: [EditorComponent],
  template: `
  <h1>{productname} {productmajorversion} Angular Demo</h1>
  <editor
    [init]="init"
  />
  `
})
export class AppComponent {
  init: EditorComponent['init'] = {
    plugins: 'lists link image table code help wordcount'
  };
}
----
ifeval::["{productSource}" == "cloud"]
. Include the `+apiKey+` option in the editor element and include your link:{accountsignup}/[{cloudname} API key]. Such as:
+
[source,tsx]
----
<editor apiKey="your-api-key" [init]="init" />
----
endif::[]
ifeval::["{productSource}" == "package-manager"]
. Using a text editor; open `+angular.json+` and add {productname} to the `+assets+` property.
+
[source,json]
----
"assets": [
  { "glob": "**/*", "input": "node_modules/tinymce", "output": "/tinymce/" }
]
----

. Load TinyMCE.
* To load {productname} when the editor is initialized (also known as lazy loading), add a dependency provider to the component using the `+TINYMCE_SCRIPT_SRC+` token.
+
[source,ts]
----
import { EditorComponent, TINYMCE_SCRIPT_SRC } from '@tinymce/tinymce-angular';
/* ... */
@Component({
  /* ... */
  standalone: true,
  imports: [EditorComponent],
  providers: [
    { provide: TINYMCE_SCRIPT_SRC, useValue: 'tinymce/tinymce.min.js' }
  ]
})
----
* To load TinyMCE when the page or application is loaded:
.. Open `+angular.json+` and add {productname} to the _global scripts_ tag.
+
[source,json]
----
"scripts": [
  "node_modules/tinymce/tinymce.min.js"
]
----
.. Update the editor configuration to include the `+base_url+` and `+suffix+` options.
+
[source,ts]
----
export class AppComponent {
  /* ... */
  init: EditorComponent['init'] = {
    /* ... */
    base_url: '/tinymce', // Root for resources
    suffix: '.min'        // Suffix to use when loading resources
  };
}
----
endif::[]
ifeval::["{productSource}" == "zip"]

. Add the `+tinymce+` global to the application by: Deploying {productname} independent of the Angular application, or bundling {productname} with the Angular application.
* Deploy {productname} independent of the Angular application
+
To use an independent deployment of {productname}, add a script to either the `+<head>+` or the end of the `+<body>+` of the HTML file, such as:
+
[source,html]
----
<script src="/path/to/tinymce.min.js"></script>
----
+
* Bundling {productname} with the Angular application using a module loader (such as Webpack).
+
--
:depth: 2
include::partial$integrations/bundling-integration.adoc[]
--
endif::[]

. Test the application using the Angular development server.
+
* To start the development server, navigate to the `+tinymce-angular-demo+` directory and run:
+
[source,sh]
----
ng serve --open
----

* To stop the development server, select on the command line or command prompt and press _Ctrl+C_.

ifeval::["{productSource}" == "package-manager"]

[#bunding-{productname}-with-an-angular-application]
== Bundling {productname} with an Angular application

include::partial$integrations/bundling-integration.adoc[]
endif::[]

== Deploying the application to a HTTP server

The application will require further configuration before it can be deployed to a production environment. For information on configuring the application for deployment, see: link:https://angular.dev/tools/cli/build[Angular Docs - Building Angular Apps] or link:https://angular.dev/tools/cli/deployment[Angular Docs - Deployment].

To deploy the application to a local HTTP Server:

. Navigate to the `+tinymce-angular-demo+` directory and run:
+
[source,sh]
----
ng build
----
. Copy the contents of the `+tinymce-angular-demo/dist+` directory to the root directory of the web server.

The application has now been deployed on the web server.

NOTE: Additional configuration is required to deploy the application outside the web server root directory, such as +http://localhost:<port>/my_angular_application+.

[[angular-modules]]
== Angular Modules
`+EditorModule+` is available to import from `+@tinymce/tinymce-angular+`. Which should be included in your `+my.module.ts+` file.

[source,ts]
----
import { NgModule } from '@angular/core';
import { EditorModule, TINYMCE_SCRIPT_SRC } from '@tinymce/tinymce-angular';

@NgModule({
  /* ... */
  imports: [
    EditorModule
  ],
  providers: [
    // If you're self hosting and lazy loading TinyMCE from node_modules:
    { provide: TINYMCE_SCRIPT_SRC, useValue: 'tinymce/tinymce.min.js' }
  ],
  /* ... */
})
export class MyModule {}
----

== Next Steps

* For examples of the {productname} integration, see: https://tinymce.github.io/tinymce-angular/[the tinymce-angular storybook].
* For information on customizing:
** {productname} integration, see: xref:angular-ref.adoc[Angular framework Technical Reference].
** {productname}, see: xref:basic-setup.adoc[Basic setup].
** The Angular application, see: https://angular.dev[the Angular documentation].
